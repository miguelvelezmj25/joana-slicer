


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: Quat4f</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">com.jhlabs.vecmath</a> ]
</div>

<h1>Coverage Summary for Class: Quat4f (com.jhlabs.vecmath)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Quat4f</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 69)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;/*
<i>2</i>&nbsp;Copyright 2006 Jerry Huxtable
<i>3</i>&nbsp;
<i>4</i>&nbsp;Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
<i>5</i>&nbsp;you may not use this file except in compliance with the License.
<i>6</i>&nbsp;You may obtain a copy of the License at
<i>7</i>&nbsp;
<i>8</i>&nbsp;   http://www.apache.org/licenses/LICENSE-2.0
<i>9</i>&nbsp;
<i>10</i>&nbsp;Unless required by applicable law or agreed to in writing, software
<i>11</i>&nbsp;distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
<i>12</i>&nbsp;WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<i>13</i>&nbsp;See the License for the specific language governing permissions and
<i>14</i>&nbsp;limitations under the License.
<i>15</i>&nbsp;*/
<i>16</i>&nbsp;
<i>17</i>&nbsp;package com.jhlabs.vecmath;
<i>18</i>&nbsp;
<i>19</i>&nbsp;/** Vector math package, converted to look similar to javax.vecmath. */
<i>20</i>&nbsp;public class Quat4f extends Tuple4f {
<i>21</i>&nbsp;
<i>22</i>&nbsp;  public Quat4f() {
<b class="nc"><i>23</i>&nbsp;    this(0, 0, 0, 0);</b>
<i>24</i>&nbsp;  }
<i>25</i>&nbsp;
<b class="nc"><i>26</i>&nbsp;  public Quat4f(float[] x) {</b>
<b class="nc"><i>27</i>&nbsp;    this.x = x[0];</b>
<b class="nc"><i>28</i>&nbsp;    this.y = x[1];</b>
<b class="nc"><i>29</i>&nbsp;    this.z = x[2];</b>
<b class="nc"><i>30</i>&nbsp;    this.w = x[3];</b>
<i>31</i>&nbsp;  }
<i>32</i>&nbsp;
<b class="nc"><i>33</i>&nbsp;  public Quat4f(float x, float y, float z, float w) {</b>
<b class="nc"><i>34</i>&nbsp;    this.x = x;</b>
<b class="nc"><i>35</i>&nbsp;    this.y = y;</b>
<b class="nc"><i>36</i>&nbsp;    this.z = z;</b>
<b class="nc"><i>37</i>&nbsp;    this.w = w;</b>
<i>38</i>&nbsp;  }
<i>39</i>&nbsp;
<b class="nc"><i>40</i>&nbsp;  public Quat4f(Quat4f t) {</b>
<b class="nc"><i>41</i>&nbsp;    this.x = t.x;</b>
<b class="nc"><i>42</i>&nbsp;    this.y = t.y;</b>
<b class="nc"><i>43</i>&nbsp;    this.z = t.z;</b>
<b class="nc"><i>44</i>&nbsp;    this.w = t.w;</b>
<i>45</i>&nbsp;  }
<i>46</i>&nbsp;
<b class="nc"><i>47</i>&nbsp;  public Quat4f(Tuple4f t) {</b>
<b class="nc"><i>48</i>&nbsp;    this.x = t.x;</b>
<b class="nc"><i>49</i>&nbsp;    this.y = t.y;</b>
<b class="nc"><i>50</i>&nbsp;    this.z = t.z;</b>
<b class="nc"><i>51</i>&nbsp;    this.w = t.w;</b>
<i>52</i>&nbsp;  }
<i>53</i>&nbsp;
<i>54</i>&nbsp;  public void set(AxisAngle4f a) {
<b class="nc"><i>55</i>&nbsp;    float halfTheta = a.angle * 0.5f;</b>
<b class="nc"><i>56</i>&nbsp;    float cosHalfTheta = (float) Math.cos(halfTheta);</b>
<b class="nc"><i>57</i>&nbsp;    float sinHalfTheta = (float) Math.sin(halfTheta);</b>
<b class="nc"><i>58</i>&nbsp;    x = a.x * sinHalfTheta;</b>
<b class="nc"><i>59</i>&nbsp;    y = a.y * sinHalfTheta;</b>
<b class="nc"><i>60</i>&nbsp;    z = a.z * sinHalfTheta;</b>
<b class="nc"><i>61</i>&nbsp;    w = cosHalfTheta;</b>
<i>62</i>&nbsp;  }
<i>63</i>&nbsp;
<i>64</i>&nbsp;  /*
<i>65</i>&nbsp;  	public void EulerToQuaternion(float roll, float pitch, float yaw)
<i>66</i>&nbsp;  	{
<i>67</i>&nbsp;  		float cr, cp, cy, sr, sp, sy, cpcy, spsy;
<i>68</i>&nbsp;  		cr = cos(roll/2);
<i>69</i>&nbsp;  		cp = cos(pitch/2);
<i>70</i>&nbsp;  		cy = cos(yaw/2);
<i>71</i>&nbsp;  		sr = sin(roll/2);
<i>72</i>&nbsp;  		sp = sin(pitch/2);
<i>73</i>&nbsp;  		sy = sin(yaw/2);
<i>74</i>&nbsp;  		cpcy = cp * cy;
<i>75</i>&nbsp;  		spsy = sp * sy;
<i>76</i>&nbsp;  		w = cr * cpcy + sr * spsy;
<i>77</i>&nbsp;  		x = sr * cpcy - cr * spsy;
<i>78</i>&nbsp;  		y = cr * sp * cy + sr * cp * sy;
<i>79</i>&nbsp;  		z = cr * cp * sy - sr * sp * cy;
<i>80</i>&nbsp;  	}
<i>81</i>&nbsp;  */
<i>82</i>&nbsp;
<i>83</i>&nbsp;  public void normalize() {
<b class="nc"><i>84</i>&nbsp;    float d = 1.0f / (x * x + y * y + z * z + w * w);</b>
<b class="nc"><i>85</i>&nbsp;    x *= d;</b>
<b class="nc"><i>86</i>&nbsp;    y *= d;</b>
<b class="nc"><i>87</i>&nbsp;    z *= d;</b>
<b class="nc"><i>88</i>&nbsp;    w *= d;</b>
<i>89</i>&nbsp;  }
<i>90</i>&nbsp;
<i>91</i>&nbsp;  /*
<i>92</i>&nbsp;  	public void mul( Quat4f q ) {
<i>93</i>&nbsp;  		Quat4f q3 = new Quat4f();
<i>94</i>&nbsp;  		Vector3f vectorq1 = new Vector3f( x, y, z );
<i>95</i>&nbsp;  		Vector3f vectorq2 = new Vector3f( q.x, q.y, q.z );
<i>96</i>&nbsp;
<i>97</i>&nbsp;  		Vector3f tempvec1 = new Vector3f( vectorq1 );
<i>98</i>&nbsp;  		Vector3f tempvec2;
<i>99</i>&nbsp;  		Vector3f tempvec3;
<i>100</i>&nbsp;  		q3.w = (w*q.w) - tempvec1.dot(vectorq2);
<i>101</i>&nbsp;  		tempvec1.cross(vectorq2);
<i>102</i>&nbsp;  		tempvec2.x = w * q.x;
<i>103</i>&nbsp;  		tempvec2.y = w * q.y;
<i>104</i>&nbsp;  		tempvec2.z = w * q.z;
<i>105</i>&nbsp;  		tempvec3.x = q.w * x;
<i>106</i>&nbsp;  		tempvec3.y = q.w * y;
<i>107</i>&nbsp;  		tempvec3.z = q.w * z;
<i>108</i>&nbsp;  		q3.x = tempvec1.x + tempvec2.x + tempvec3.x;
<i>109</i>&nbsp;  		q3.y = tempvec1.y + tempvec2.y + tempvec3.y;
<i>110</i>&nbsp;  		q3.z = tempvec1.z + tempvec2.z + tempvec3.z;
<i>111</i>&nbsp;  		set(q3);
<i>112</i>&nbsp;  	}
<i>113</i>&nbsp;  */
<i>114</i>&nbsp;
<i>115</i>&nbsp;  public void set(Matrix4f m) {
<i>116</i>&nbsp;    float s;
<i>117</i>&nbsp;    int i;
<i>118</i>&nbsp;
<b class="nc"><i>119</i>&nbsp;    float tr = m.m00 + m.m11 + m.m22;</b>
<i>120</i>&nbsp;
<b class="nc"><i>121</i>&nbsp;    if (tr &gt; 0.0) {</b>
<b class="nc"><i>122</i>&nbsp;      s = (float) Math.sqrt(tr + 1.0f);</b>
<b class="nc"><i>123</i>&nbsp;      w = s / 2.0f;</b>
<b class="nc"><i>124</i>&nbsp;      s = 0.5f / s;</b>
<b class="nc"><i>125</i>&nbsp;      x = (m.m12 - m.m21) * s;</b>
<b class="nc"><i>126</i>&nbsp;      y = (m.m20 - m.m02) * s;</b>
<b class="nc"><i>127</i>&nbsp;      z = (m.m01 - m.m10) * s;</b>
<i>128</i>&nbsp;    } else {
<b class="nc"><i>129</i>&nbsp;      i = 0;</b>
<b class="nc"><i>130</i>&nbsp;      if (m.m11 &gt; m.m00) {</b>
<b class="nc"><i>131</i>&nbsp;        i = 1;</b>
<b class="nc"><i>132</i>&nbsp;        if (m.m22 &gt; m.m11) {</b>
<b class="nc"><i>133</i>&nbsp;          i = 2;</b>
<i>134</i>&nbsp;        } else {
<i>135</i>&nbsp;        }
<i>136</i>&nbsp;      } else {
<b class="nc"><i>137</i>&nbsp;        if (m.m22 &gt; m.m00) {</b>
<b class="nc"><i>138</i>&nbsp;          i = 2;</b>
<i>139</i>&nbsp;        } else {
<i>140</i>&nbsp;        }
<i>141</i>&nbsp;      }
<i>142</i>&nbsp;
<b class="nc"><i>143</i>&nbsp;      switch (i) {</b>
<i>144</i>&nbsp;        case 0:
<b class="nc"><i>145</i>&nbsp;          s = (float) Math.sqrt((m.m00 - (m.m11 + m.m22)) + 1.0f);</b>
<b class="nc"><i>146</i>&nbsp;          x = s * 0.5f;</b>
<b class="nc"><i>147</i>&nbsp;          if (s != 0.0) s = 0.5f / s;</b>
<b class="nc"><i>148</i>&nbsp;          w = (m.m12 - m.m21) * s;</b>
<b class="nc"><i>149</i>&nbsp;          y = (m.m01 + m.m10) * s;</b>
<b class="nc"><i>150</i>&nbsp;          z = (m.m02 + m.m20) * s;</b>
<b class="nc"><i>151</i>&nbsp;          break;</b>
<i>152</i>&nbsp;        case 1:
<b class="nc"><i>153</i>&nbsp;          s = (float) Math.sqrt((m.m11 - (m.m22 + m.m00)) + 1.0f);</b>
<b class="nc"><i>154</i>&nbsp;          y = s * 0.5f;</b>
<b class="nc"><i>155</i>&nbsp;          if (s != 0.0) s = 0.5f / s;</b>
<b class="nc"><i>156</i>&nbsp;          w = (m.m20 - m.m02) * s;</b>
<b class="nc"><i>157</i>&nbsp;          z = (m.m12 + m.m21) * s;</b>
<b class="nc"><i>158</i>&nbsp;          x = (m.m10 + m.m01) * s;</b>
<b class="nc"><i>159</i>&nbsp;          break;</b>
<i>160</i>&nbsp;        case 2:
<b class="nc"><i>161</i>&nbsp;          s = (float) Math.sqrt((m.m00 - (m.m11 + m.m22)) + 1.0f);</b>
<b class="nc"><i>162</i>&nbsp;          z = s * 0.5f;</b>
<b class="nc"><i>163</i>&nbsp;          if (s != 0.0) s = 0.5f / s;</b>
<b class="nc"><i>164</i>&nbsp;          w = (m.m01 - m.m10) * s;</b>
<b class="nc"><i>165</i>&nbsp;          x = (m.m20 + m.m02) * s;</b>
<b class="nc"><i>166</i>&nbsp;          y = (m.m21 + m.m12) * s;</b>
<i>167</i>&nbsp;          break;
<i>168</i>&nbsp;      }
<i>169</i>&nbsp;    }
<i>170</i>&nbsp;  }
<i>171</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2021-02-23 16:49</div>
</div>
</body>
</html>
