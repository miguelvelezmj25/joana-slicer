<html><body style="font-size:16px;width:1000px;"><pre><code><div> /*</div><div>  *  Copyright 2016 Patrick Favre-Bulle</div><div>  *</div><div>  *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</div><div>  *  you may not use this file except in compliance with the License.</div><div>  *  You may obtain a copy of the License at</div><div>  *</div><div>  *      http://www.apache.org/licenses/LICENSE-2.0</div><div>  *</div><div>  * Unless required by applicable law or agreed to in writing, software</div><div>  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</div><div>  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</div><div>  * See the License for the specific language governing permissions and</div><div>  * limitations under the License.</div><div>  */</div><div> </div><div> package at.favre.tools.dconvert.converters;</div><div> </div><div> import at.favre.tools.dconvert.arg.Arguments;</div><div> import at.favre.tools.dconvert.arg.ImageType;</div><div> import at.favre.tools.dconvert.converters.descriptors.PostfixDescriptor;</div><div> import at.favre.tools.dconvert.util.MiscUtil;</div><div> </div><div> import java.awt.*;</div><div> import java.io.File;</div><div> import java.util.ArrayList;</div><div> import java.util.List;</div><div> </div><div> /** Needed info to convert for Windows */</div><div style="background-color:MediumSpringGreen;"> public class WindowsConverter extends APlatformConverter&lt;PostfixDescriptor&gt; {</div><div>     public static final String ROOT_FOLDER = &quot;Assets&quot;;</div><div>     private static final String WINDOWS_FOLDER_NAME = &quot;windows&quot;;</div><div> </div><div>     public static List&lt;PostfixDescriptor&gt; getWindowsDescriptors() {</div><div>         List&lt;PostfixDescriptor&gt; list = new ArrayList&lt;PostfixDescriptor&gt;();</div><div style="background-color:MediumSpringGreen;">         list.add(new PostfixDescriptor(1, &quot;100%&quot;, &quot;.scale-100&quot;));</div><div style="background-color:MediumSpringGreen;">         list.add(new PostfixDescriptor(1.4f, &quot;140%&quot;, &quot;.scale-140&quot;));</div><div style="background-color:MediumSpringGreen;">         list.add(new PostfixDescriptor(1.8f, &quot;180%&quot;, &quot;.scale-180&quot;));</div><div style="background-color:MediumSpringGreen;">         list.add(new PostfixDescriptor(2.4f, &quot;240%&quot;, &quot;.scale-240&quot;));</div><div>         return list;</div><div>     }</div><div> </div><div>     @Override</div><div>     public List&lt;PostfixDescriptor&gt; usedOutputDensities(Arguments arguments) {</div><div style="background-color:MediumSpringGreen;">         return getWindowsDescriptors();</div><div>     }</div><div> </div><div>     @Override</div><div>     public PostfixDescriptor originalOutputDensities() {</div><div>         return new PostfixDescriptor(1, &quot;100%&quot;, &quot;.scale-100&quot;);</div><div>     }</div><div> </div><div>     @Override</div><div>     public String getConverterName() {</div><div>         return &quot;windows-converter&quot;;</div><div>     }</div><div> </div><div>     @Override</div><div>     public File createMainSubFolder(</div><div>             File destinationFolder, String targetImageFileName, Arguments arguments) {</div><div>         if (arguments.platform.size() &gt; 1) {</div><div style="background-color:MediumSpringGreen;">             destinationFolder =</div><div style="background-color:MediumSpringGreen;">                     MiscUtil.createAndCheckFolder(</div><div style="background-color:MediumSpringGreen;">                             new File(destinationFolder, WINDOWS_FOLDER_NAME).getAbsolutePath(), arguments.dryRun);</div><div>         }</div><div style="background-color:MediumSpringGreen;">         return MiscUtil.createAndCheckFolder(</div><div style="background-color:MediumSpringGreen;">                 new File(destinationFolder, WindowsConverter.ROOT_FOLDER).getAbsolutePath(),</div><div>                 arguments.dryRun);</div><div>     }</div><div> </div><div>     @Override</div><div>     public File createFolderForOutputFile(</div><div>             File mainSubFolder,</div><div>             PostfixDescriptor density,</div><div>             Dimension dimension,</div><div>             String targetFileName,</div><div>             Arguments arguments) {</div><div style="background-color:MediumSpringGreen;">         return mainSubFolder;</div><div>     }</div><div> </div><div>     @Override</div><div>     public String createDestinationFileNameWithoutExtension(</div><div>             PostfixDescriptor density, Dimension dimension, String targetFileName, Arguments arguments) {</div><div style="background-color:MediumSpringGreen;">         return targetFileName + density.postFix;</div><div>     }</div><div> </div><div>     @Override</div><div>     public void onPreExecute(</div><div>             File dstFolder,</div><div>             String targetFileName,</div><div>             List&lt;PostfixDescriptor&gt; densityDescriptions,</div><div>             ImageType imageType,</div><div>             Arguments arguments)</div><div>             throws Exception {}</div><div> </div><div>     @Override</div><div>     public void onPostExecute(Arguments arguments) {}</div><div> </div><div>     @Override</div><div>     public void clean(Arguments arguments) {</div><div>         if (arguments.platform.size() == 1) {</div><div>             MiscUtil.deleteFolder(new File(arguments.dst, ROOT_FOLDER));</div><div>         } else {</div><div>             MiscUtil.deleteFolder(new File(new File(arguments.dst, WINDOWS_FOLDER_NAME), ROOT_FOLDER));</div><div>         }</div><div>     }</div><div> }</div></code></pre></body></html>